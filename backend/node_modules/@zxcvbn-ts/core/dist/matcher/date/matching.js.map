{"version":3,"file":"matching.js","sources":["../../../src/matcher/date/matching.ts"],"sourcesContent":[null],"names":["MatchDate","match","password","matches","getMatchesWithoutSeparator","getMatchesWithSeparator","filteredMatches","filterNoise","sorted","maybeDateWithSeparator","i","Math","abs","length","j","token","slice","regexMatch","exec","dmy","mapIntegersToDayMonthYear","parseInt","push","pattern","separator","year","month","day","maybeDateNoSeparator","metric","candidate","REFERENCE_YEAR","candidates","index","splittedDates","DATE_SPLITS","forEach","k","l","bestCandidate","minDistance","distance","filter","isSubmatch","matchesLength","o","otherMatch","integers","over12","over31","under1","len1","int","DATE_MIN_YEAR","DATE_MAX_YEAR","getDayMonth","possibleYearSplits","possibleYearSplitsLength","y","rest","dm","mapIntegersToDayMonth","twoToFourDigitYear","temp","reverse","data"],"mappings":"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"}